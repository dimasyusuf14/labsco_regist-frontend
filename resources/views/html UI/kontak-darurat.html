<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="css/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <title>Document</title>
</head>

<body>
    <main id="main">

        <div id="card-navigation" class="">
            <div class="card-nav-item">
                <button type="button" class="card-nav-btn">
                    <span>1</span>
                </button>
                <p class="card-nav-label">Akun Peserta</p>
            </div>

            <div class="card-nav-item">
                <button type="button" class="card-nav-btn">
                    <span>2</span>
                </button>
                <p class="card-nav-label">Data Diri</p>
            </div>

            <div class="card-nav-item active">
                <button type="button" class="card-nav-btn">
                    <span>3</span>
                </button>
                <p class="card-nav-label">Kontak Darurat &amp; Medis</p>
            </div>

            <div class="card-nav-item">
                <button type="button" class="card-nav-btn">
                    <span>4</span>
                </button>
                <p class="card-nav-label">Racepack</p>
            </div>

            <div class="card-nav-item">
                <button type="button" class="card-nav-btn">
                    <span>5</span>
                </button>
                <p class="card-nav-label">Konfirmasi Data</p>
            </div>
        </div>


        <section id="card" class="">
            <form id="card-body">
                <div class="card-title">
                    <h2 class="title lg">
                        Kontak Darurat &amp; Medis
                    </h2>
                    <p class="description">
                        Silakan isi data dibawah untuk memasukkan kontak darurat dan riwayat penyakit kamu.
                    </p>
                </div>

                <div class="mb-3">
                    <label for="foster_name" class="form-label">Nama Kontak Darurat</label>
                    <input type="text" class="form-control" id="foster_name" name="foster_name"
                        placeholder="Silakan masukkan nama kontak darurat kamu" required>
                </div>

                <div class="mb-3">
                    <label for="foster_phone" class="form-label">Nomor HP Kontak Darurat</label>
                    <div class="input-group">
                        <select class="form-select" id="country_code" name="country_code" style="max-width:220px;">
              <option value="">Pilih Negara</option>
            </select>

                        <input type="number" class="form-control" id="foster_phone" name="foster_phone"
                            placeholder="Silakan masukkan Nomor HP kontak darurat" required>
                    </div>
                    <small class="text-muted">Contoh: 81234567890</small>
                </div>

                <div class="mb-3">
                    <label for="foster_relation" class="form-label">Hubungan dengan Kontak Darurat</label>
                    <select class="form-select" id="foster_relation" name="foster_relation" required>
                        <option value="">-- Pilih Hubungan --</option>
                        <option value="Orang Tua">Orang Tua</option>
                        <option value="Saudara">Saudara</option>
                        <option value="Tetangga">Tetangga</option>
                        <option value="Teman">Teman</option>
                        <option value="Istri/Suami">Istri/Suami</option>
                        <option value="Pacar">Pacar</option>
                        <option value="Lainnya">Lainnya</option>
                    </select>
                </div>

                <div class="mb-3">
                    <label for="blood_group" class="form-label">Golongan Darah Peserta</label>
                    <select class="form-select" id="blood_group" name="blood_group" required>
                        <option value="">-- Pilih Golongan Darah --</option>
                        <option value="A">A</option>
                        <option value="B">B</option>
                        <option value="AB">AB</option>
                        <option value="O">O</option>
                        <option value="Tidak Diketahui">Tidak Diketahui</option>
                    </select>
                </div>

                <div class="mb-4">
                    <label for="health_info" class="form-label">Riwayat Penyakit Peserta</label>
                    <textarea class="form-control" id="health_info" name="health_info" rows="3"
                        placeholder="Silakan masukkan riwayat penyakit peserta (opsional)"></textarea>
                </div>

                <div class="card-button on-side">
                    <button type="button" class="btn btn-secondary">
                        <i class="fi fi-rr-arrow-left"></i> Sebelumnya
                    </button>
                    <button type="submit" class="btn btn-primary">
                        Selanjutnya <i class="fi fi-rr-arrow-right"></i>
                    </button>
                </div>
            </form>


        </section>



    </main>

    <!-- Bootstrap JS & Icons -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

    <script>
    // Load JSON country list
    fetch("country.json")
      .then(response => response.json())
      .then(countries => {
        const select = document.getElementById("country_code");

        countries.forEach(c => {
          let opt = document.createElement("option");
          opt.value = c.dial_code;
          opt.textContent = `(${c.dial_code})`;
          select.appendChild(opt);
        });

        // Default pilih Indonesia kalau ada
        const indonesia = countries.find(c => c.code === "ID");
        if (indonesia) {
          select.value = indonesia.dial_code;
        }
      })
      .catch(err => console.error("Gagal load country.json", err));

    // Contoh: gabungkan kode negara + nomor sebelum submit
    document.getElementById("card-body").addEventListener("submit", function (e) {
      e.preventDefault();
      const code = document.getElementById("country_code").value;
      const phone = document.getElementById("foster_phone").value;
      const fullPhone = code + phone;
      alert("Nomor darurat lengkap: " + fullPhone);
      // ðŸ‘‰ di sini bisa lanjut submit ke server dengan fetch/ajax
    });
  </script>
</body>

</html>
